---
title: "Assignment 1: R Markdown Exercise"
# subtitle: "possible subtitle goes here"
author:
  - Surya Eada and Kristen Sandberg
date: "`r format(Sys.time(), '%d %B %Y')`"
documentclass: article
papersize: letter
fontsize: 11pt
bibliography: template.bib
biblio-style: datalab
keywords: Template, R Markdown, bookdown, Data Lab
# keywords set in YAML header here only go to the properties of the PDF output
# the keywords that appear in PDF output are set in latex/before_body.tex
output:
  bookdown::pdf_document2
  bookdown::html_document2
abstract: |
    This is a template mainly designed for data science lab projects. In this
    template, we review most common components of a single R Markdown document
    with the power of the **bookdown** package and demonstrate their basic usage
    through examples.
---


```{r setup, echo = FALSE, message = FALSE, warning = FALSE}
## some utility functions, see the source code for details
source("utils_template.R")
#source("monte_carlo_function_table.R")

## specify the packages needed
pkgs <- c("splines2", "DT", "webshot", "leaflet")
need.packages(pkgs)

## external data can be read in by regular functions,
## such as read.table or load


## get output format in case something needs extra effort
outFormat <- knitr::opts_knit$get("rmarkdown.pandoc.to")
## "latex" or "html"

## for latex and html output
isHtml <- identical(outFormat, "html")
isLatex <- identical(outFormat, "latex")
latex <- ifelse(isLatex, '\\LaTeX\\', 'LaTeX')

## specify global chunk options
knitr::opts_chunk$set(fig.width = 5, fig.height = 4, dpi = 300,
                      out.width = "90%", fig.align = "center")

```


# Introduction {#sec:intro}

This document is designed as a template for data science lab projects.  However,
it can also be used as a general template in `r proglang("R Markdown")` for a
single document.


# Simulation Results {#sec:result}

```{r echo = FALSE, eval = TRUE}

source("monte_carlo_function_100_simulations.R")
source("monte_carlo_function_table.R")
source("monte_carlo_function_approx_normal_cdf.R")

output_matrix <- monte_carlo_table()

```

We considered the approximation of the distribution function of $N(0,1)$,
\begin{align}
    \Phi(t) = \int_{-\infty}^{t} \dfrac{1}{\sqrt{2\pi}}e^{\frac{-y^2}{2}}dy,
    (\#eq:cdf)
\end{align}
by the Monte Carlo methods: 
\begin{align}
    \hat{\Phi}(t) = \dfrac{1}{n} \sum_{i=1}^{n} I(X_{i} \leq t),
    (\#eq:monte)
\end{align}
where $X_{i}$'s are iid $N(0,1)$ variables.  We ran our monte carlo simulations at $n \in \{10^2, 10^3, 10^4\}$ at $t \in \{0.0, 0.67, 0.84, 1.28, 1.65, 2.32, 2.58, 3.09, 3.72\}$.  The results of our simulations are compared against the true values in Table \@ref(tab:mc_sim).

```{r table_results}
knitr::kable(output_matrix, booktabs = TRUE,
             caption = '(ref:mc_sim) Comparison of Monte Carlo Simulations and the True Value')
```



# Figures {#sec:figure}

When we repeated the experiment 100 times for each $n$ at each $t$, we found the results were most skewed at $n=10^2$ and least biased at $n=10^4$.  At the same time, the bias decreased as $t$ increased for all $n$.  This makes sense because of our definition of $\hat{\Phi}(t)$ which evaluated the identity function for whether or not the variable was less than or equal to $t$.  As the $t$ values increase, it is more likely the observation will be less than $t$ since the $X_{i}$'s are iid $N(0,1)$ variables.

```{r echo = FALSE, eval = TRUE}
library(ggplot2)

source("monte_carlo_plot_results.R")

```

# Code Chunk {#sec:code}

The following code chunk was used as our function to evaluate $\hat{\Phi}(t) = \dfrac{1}{n} \sum_{i=1}^{n} I(X_{i} \leq t)$.

```{r rCode, eval = FALSE, engine = "R", comment = ">>> "}
monte_carlo_normal_cdf<-function (n,t) 
{
b<-0
n_random<-rnorm(n)
for(i in 1:n){
  if(n_random[i] <= t){b = b + 1}
  }
less_equal_t <- b/n
return(less_equal_t)
}
```

# Summary and Discussion {#sec:summary}

In summary, we provided this project template and reviewed most common
components and their syntax of writing a single `r proglang("R Markdown")`
document with the power and love of `r pkg("bookdown")` and many other fantastic
packages.


The template source and other associated files, such as BibTeX and CSS file, are
available at our GitHub repository
*dslab-templates*: <https://github.com/statds/dslab-templates>.


# Acknowledgment {-}

We would like to thank Yihui Xie and all the other authors and contributors for
the fabulous `r pkg("knitr")`, `r pkg("rmarkdown")`, and `r pkg("bookdown")`
packages. It would also be impossible for this template to work without the
fantastic open-source software: `r proglang("R")`, `r pkg("pandoc")`, etc.


# Reference {-}


[pandoc]: http://pandoc.org/
[pandocManual]: http://pandoc.org/MANUAL.html
[repo]: https://github.com/wenjie2wang/datalab-templates
[taskView]: https://cran.r-project.org/web/views/ReproducibleResearch.html
[shiny.io]: https://www.shinyapps.io/
[wenjie-stat.shinyapps]: https://wwenjie-stat.shinyapps.io/minisplines2

